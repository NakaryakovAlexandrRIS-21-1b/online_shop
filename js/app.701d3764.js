(function(){var t={949:function(t,e,o){"use strict";var a=o(963),r=o(252);const n={id:"app"};function s(t,e,o,a,s,i){const c=(0,r.up)("v-main-wrapper");return(0,r.wg)(),(0,r.iD)("div",n,[(0,r.Wm)(c)])}const i={class:"v-main-wrapper"},c={key:2};function p(t,e,o,a,n,s){const p=(0,r.up)("v-catalog"),l=(0,r.up)("v-cart");return(0,r.wg)(),(0,r.iD)("div",i,[n.IsCart?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",{key:0,class:"cart_catalog",onClick:e[0]||(e[0]=(...t)=>s.Switch&&s.Switch(...t))}," Cart ")),n.IsCart?((0,r.wg)(),(0,r.iD)("div",{key:1,class:"cart_catalog",onClick:e[1]||(e[1]=(...t)=>s.Switch&&s.Switch(...t))}," Back to catalog ")):(0,r.kq)("",!0),n.products.length?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",c,"Loading...")),!n.IsCart&&n.products.length?((0,r.wg)(),(0,r.j4)(p,{key:3,prod:n.products},null,8,["prod"])):(0,r.kq)("",!0),n.IsCart?((0,r.wg)(),(0,r.j4)(l,{key:4,prod:n.cart_items,onDelet:s.getCart,onGetCart:s.getCart},null,8,["prod","onDelet","onGetCart"])):(0,r.kq)("",!0)])}var l=o(577);const u={class:"v-catalog"},d=(0,r._)("h1",null,"Catalog",-1),m={class:"selector"},h=["value"],g={class:"catalog-list"};function v(t,e,o,n,s,i){const c=(0,r.up)("v-catalog-item");return(0,r.wg)(),(0,r.iD)("div",u,[d,(0,r._)("div",m,[(0,r.wy)((0,r._)("select",{class:"select","onUpdate:modelValue":e[0]||(e[0]=t=>s.selected=t),onChange:e[1]||(e[1]=(...t)=>i.SortByFilter&&i.SortByFilter(...t))},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.options,(t=>((0,r.wg)(),(0,r.iD)("option",{key:t,value:t},(0,l.zw)(t),9,h)))),128))],544),[[a.bM,s.selected]])]),(0,r._)("div",g,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.sortedCatalog,(e=>((0,r.wg)(),(0,r.j4)(c,{key:e.article,product_data:e,onGetCart:t.GetCart},null,8,["product_data","onGetCart"])))),128))])])}const f={class:"v-catalog-item"},C={class:"popup-background"},_={class:"popup-wrapper"},w=["src"],y={class:"popup-context"},k={class:"product-name-pop"},b={class:"product-context"},j=["src"],D={class:"product-name"},x={class:"product-price"},P={class:"buttons"};function I(t,e,n,s,i,c){const p=(0,r.up)("v-popup");return(0,r.wg)(),(0,r.iD)("div",f,[i.PopupVisible?((0,r.wg)(),(0,r.j4)(p,{key:0,class:"popup",onClose:c.ClosePopup,onAddToCart:e[2]||(e[2]=t=>c.productClick(n.product_data.idx))},{default:(0,r.w5)((()=>[(0,r._)("div",C,[(0,r._)("div",_,[(0,r._)("img",{src:o(990)("./"+n.product_data.image),alt:"img",class:"v-catalog-item-img"},null,8,w),(0,r._)("div",y,[(0,r._)("h3",k,(0,l.zw)(n.product_data.name),1),(0,r._)("p",b,(0,l.zw)(n.product_data.context),1),(0,r.wy)((0,r._)("input",{type:"text",onKeyup:e[0]||(e[0]=(0,a.D2)(((...e)=>t.SaveComm&&t.SaveComm(...e)),["enter"])),"onUpdate:modelValue":e[1]||(e[1]=e=>t.inputText=e),placeholder:"Your comment"},null,544),[[a.nr,t.inputText]])])])])])),_:1},8,["onClose"])):(0,r.kq)("",!0),(0,r._)("img",{src:o(990)("./"+n.product_data.image),alt:"img",class:"v-catalog-item-img"},null,8,j),(0,r._)("p",D,(0,l.zw)(n.product_data.name),1),(0,r._)("p",x,"Price: "+(0,l.zw)(n.product_data.price)+" ₽",1),(0,r._)("div",P,[(0,r._)("button",{class:"show-info btn",onClick:e[3]||(e[3]=(...t)=>c.ShowPopup&&c.ShowPopup(...t))},"Show info "),(0,r._)("button",{class:"add-to-cart-btn btn",onClick:e[4]||(e[4]=t=>c.productClick(n.product_data.idx))},(0,l.zw)(i.Added),1)])])}const O={class:"popup"},q={class:"popup_content"},A={class:"popup_footer"};function T(t,e,o,a,n,s){return(0,r.wg)(),(0,r.iD)("div",O,[(0,r._)("div",q,[(0,r.WI)(t.$slots,"default")]),(0,r._)("div",A,[(0,r._)("button",{class:"ClosePopup",onClick:e[0]||(e[0]=(...t)=>s.Close&&s.Close(...t))},"Close"),(0,r._)("button",{class:"AddToCart",onClick:e[1]||(e[1]=(...t)=>s.AddToCart&&s.AddToCart(...t))},"Add to Cart")])])}var S={methods:{Close(){this.$emit("Close")},AddToCart(){this.$emit("AddToCart")}}},$=o(744);const z=(0,$.Z)(S,[["render",T]]);var F=z,M={name:"v-catalog-item",components:{vPopup:F},computed:{},methods:{productClick(t){fetch(`http://localhost/queries/addToCart.php?idx=${t}`),this.Added="Also in cart"},ShowPopup(){this.PopupVisible=!0},ClosePopup(){this.PopupVisible=!1}},props:{product_data:{type:Object,default(){return{}}}},data(){return{PopupVisible:!1,Added:"Add to cart"}}};const Z=(0,$.Z)(M,[["render",I]]);var V=Z,G={name:"v-catalog",components:{vCatalogItem:V},computed:{},props:["prod"],methods:{SortByFilter(){let t=this;this.sortedCatalog=[],this.prod.map((function(e){"All"!=t.selected?e.category==t.selected&&t.sortedCatalog.push(e):t.sortedCatalog.push(e)}))}},mounted(){this.sortedCatalog=this.prod},data(){return{sortedCatalog:[],selected:"All",options:["All","Male","Female"]}}};const B=(0,$.Z)(G,[["render",v]]);var K=B;const U={class:"v-cart"},Y=(0,r._)("h1",null,"Cart",-1),E={key:0,class:"NoCart"},H={class:"v-item"},N={class:"Total"};function W(t,e,o,a,n,s){const i=(0,r.up)("v-cart-item");return(0,r.wg)(),(0,r.iD)("div",U,[Y,o.prod.length?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",E," There are no items in cart... ")),(0,r._)("div",H,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.prod,((e,o)=>((0,r.wg)(),(0,r.j4)(i,{key:e.article,product_data:e,onDeleted:s.Delet,onPlusItem:e=>t.PlusItem(o),onMinusItem:e=>t.MinusItem(o)},null,8,["product_data","onDeleted","onPlusItem","onMinusItem"])))),128))]),(0,r._)("div",N,[(0,r._)("h1",null," Total: "+(0,l.zw)(s.CartCost)+" ₽ ",1)])])}const L={class:"v-cart-item"},Q={class:"v-cart-item img"},J=["src"],R={class:"v-item-info"},X={class:"product-name"},tt={class:"product-price"},et={class:"v-item-quantity"},ot=(0,r._)("p",null,"quantity",-1);function at(t,e,a,n,s,i){return(0,r.wg)(),(0,r.iD)("div",L,[(0,r._)("div",Q,[(0,r._)("img",{src:o(990)("./"+a.product_data.image),alt:"img",class:"v-catalog-item-img"},null,8,J)]),(0,r._)("div",R,[(0,r._)("p",X,(0,l.zw)(a.product_data.name),1),(0,r._)("p",tt,"Price: "+(0,l.zw)(a.product_data.price)+" ₽",1)]),(0,r._)("div",et,[ot,(0,r._)("button",{onClick:e[0]||(e[0]=t=>i.PlusItem(a.product_data.idx))},"+"),(0,r._)("p",null,(0,l.zw)(a.product_data.quantity),1),(0,r._)("button",{onClick:e[1]||(e[1]=t=>i.MinusItem(a.product_data.idx))},"-")]),(0,r._)("div",null,[(0,r._)("button",{onClick:e[2]||(e[2]=t=>i.DeleteFromCart(a.product_data.idx))},"Delete")])])}var rt={props:{product_data:{type:Object,default(){return{}}}},methods:{async DeleteFromCart(t){await fetch(`http://localhost/queries/deleteFromCart.php?idx=${t}`),await this.$emit("deleted")},async PlusItem(t){await fetch(`http://localhost/queries/addQuantity.php?idx=${t}`),await this.$emit("deleted")},async MinusItem(t){await fetch(`http://localhost/queries/minusQuantity.php?idx=${t}`),await this.$emit("deleted")}}};const nt=(0,$.Z)(rt,[["render",at]]);var st=nt,it={name:"v-cart",components:{vCartItem:st},computed:{CartCost(){let t=0;for(let e of this.prod)t+=e.price*e.quantity;return t}},props:{prod:{type:Object,default(){return{}}}},methods:{Delet(){this.$emit("getCart")}},data(){return{}}};const ct=(0,$.Z)(it,[["render",W]]);var pt=ct,lt={name:"v-main-wrapper",components:{vCatalog:K,vCart:pt},computed:{},created(){fetch("http://localhost/queries/getProducts.php").then((t=>t.json())).then((t=>{this.products=t}))},methods:{getCart(){fetch("http://localhost/queries/getCart.php").then((t=>t.json())).then((t=>{this.cart_items=t}))},Switch(){this.IsCart?this.IsCart=!1:this.IsCart=!0,this.getCart()}},props:{},data(){return{IsCart:!1,products:[],cart_items:[]}}};const ut=(0,$.Z)(lt,[["render",p]]);var dt=ut,mt={name:"App",components:{vMainWrapper:dt}};const ht=(0,$.Z)(mt,[["render",s]]);var gt=ht,vt=o(119);const ft=[{path:"/",component:K,name:"Catalog",props:!0},{path:"/cart",component:pt,name:"Cart",props:!0}],Ct=(0,vt.p7)({history:(0,vt.PO)(),routes:ft});var _t=Ct;(0,a.ri)(gt).use(_t).mount("#app")},990:function(t,e,o){var a={"./1.jpg":97,"./2.jpg":253,"./3.jpg":672,"./4.jpg":668,"./5.jpg":279,"./6.jpeg":899};function r(t){var e=n(t);return o(e)}function n(t){if(!o.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=n,t.exports=r,r.id=990},97:function(t,e,o){"use strict";t.exports=o.p+"img/1.91dbd12e.jpg"},253:function(t,e,o){"use strict";t.exports=o.p+"img/2.cf849a2d.jpg"},672:function(t,e,o){"use strict";t.exports=o.p+"img/3.fade5a54.jpg"},668:function(t,e,o){"use strict";t.exports=o.p+"img/4.e89586de.jpg"},279:function(t,e,o){"use strict";t.exports=o.p+"img/5.a2f663fd.jpg"},899:function(t,e,o){"use strict";t.exports=o.p+"img/6.f38872e4.jpeg"}},e={};function o(a){var r=e[a];if(void 0!==r)return r.exports;var n=e[a]={exports:{}};return t[a](n,n.exports,o),n.exports}o.m=t,function(){var t=[];o.O=function(e,a,r,n){if(!a){var s=1/0;for(l=0;l<t.length;l++){a=t[l][0],r=t[l][1],n=t[l][2];for(var i=!0,c=0;c<a.length;c++)(!1&n||s>=n)&&Object.keys(o.O).every((function(t){return o.O[t](a[c])}))?a.splice(c--,1):(i=!1,n<s&&(s=n));if(i){t.splice(l--,1);var p=r();void 0!==p&&(e=p)}}return e}n=n||0;for(var l=t.length;l>0&&t[l-1][2]>n;l--)t[l]=t[l-1];t[l]=[a,r,n]}}(),function(){o.d=function(t,e){for(var a in e)o.o(e,a)&&!o.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.p="/"}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,a){var r,n,s=a[0],i=a[1],c=a[2],p=0;if(s.some((function(e){return 0!==t[e]}))){for(r in i)o.o(i,r)&&(o.m[r]=i[r]);if(c)var l=c(o)}for(e&&e(a);p<s.length;p++)n=s[p],o.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return o.O(l)},a=self["webpackChunkonline_shop"]=self["webpackChunkonline_shop"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=o.O(void 0,[998],(function(){return o(949)}));a=o.O(a)})();
//# sourceMappingURL=app.701d3764.js.map